diff --git a/test/e2e-v2/cases/alarm/expected/service.yml b/test/e2e-v2/cases/alarm/expected/service.yml
index 3a33348..5c4be35 100644
--- a/test/e2e-v2/cases/alarm/expected/service.yml
+++ b/test/e2e-v2/cases/alarm/expected/service.yml
@@ -17,4 +17,7 @@
 - id: {{ b64enc "e2e-service-provider" }}.1
   name: e2e-service-provider
   group: ""
+  shortname: e2e-service-provider
+  layers:
+    - GENERAL
 {{- end }}
diff --git a/test/e2e-v2/cases/browser/expected/service.yml b/test/e2e-v2/cases/browser/expected/service.yml
index b81f77f..60377af 100644
--- a/test/e2e-v2/cases/browser/expected/service.yml
+++ b/test/e2e-v2/cases/browser/expected/service.yml
@@ -16,3 +16,6 @@
 - id: {{ b64enc "test-ui" }}.1
   name: test-ui
   group: ""
+  shortname: test-ui
+  layers:
+    - BROWSER
diff --git a/test/e2e-v2/cases/browser/expected/version.yml b/test/e2e-v2/cases/browser/expected/version.yml
index ad097ed..34eb6e3 100644
--- a/test/e2e-v2/cases/browser/expected/version.yml
+++ b/test/e2e-v2/cases/browser/expected/version.yml
@@ -18,3 +18,4 @@
   attributes: []
   language: UNKNOWN
   instanceuuid: {{ b64enc "test-ui" }}.1_{{ b64enc "v1.0.0" }}
+  layer: BROWSER
diff --git a/test/e2e-v2/cases/cluster/expected/service-instance-consumer.yml b/test/e2e-v2/cases/cluster/expected/service-instance-consumer.yml
index 7d1d199..9b5f754 100644
--- a/test/e2e-v2/cases/cluster/expected/service-instance-consumer.yml
+++ b/test/e2e-v2/cases/cluster/expected/service-instance-consumer.yml
@@ -37,4 +37,5 @@
   {{- end}}
   language: JAVA
   instanceuuid: {{ b64enc "e2e-service-consumer" }}.1_{{ b64enc "consumer1" }}
+  layer: GENERAL
 {{- end}}
diff --git a/test/e2e-v2/cases/cluster/expected/service-instance-provider.yml b/test/e2e-v2/cases/cluster/expected/service-instance-provider.yml
index e525205..d862e0c 100644
--- a/test/e2e-v2/cases/cluster/expected/service-instance-provider.yml
+++ b/test/e2e-v2/cases/cluster/expected/service-instance-provider.yml
@@ -37,4 +37,5 @@
   {{- end}}
   language: JAVA
   instanceuuid: {{ b64enc "e2e-service-provider" }}.1_{{ b64enc "provider1" }}
+  layer: GENERAL
 {{- end}}
diff --git a/test/e2e-v2/cases/cluster/expected/service.yml b/test/e2e-v2/cases/cluster/expected/service.yml
index 20e26bc..d3acfc1 100644
--- a/test/e2e-v2/cases/cluster/expected/service.yml
+++ b/test/e2e-v2/cases/cluster/expected/service.yml
@@ -17,7 +17,13 @@
 - id: {{ b64enc "e2e-service-provider" }}.1
   name: e2e-service-provider
   group: ""
+  shortname: e2e-service-provider
+  layers:
+    - GENERAL
 - id: {{ b64enc "e2e-service-consumer" }}.1
   name: e2e-service-consumer
   group: ""
+  shortname: e2e-service-consumer
+  layers:
+    - GENERAL
 {{- end }}
diff --git a/test/e2e-v2/cases/gateway/expected/service-instance-consumer.yml b/test/e2e-v2/cases/gateway/expected/service-instance-consumer.yml
index 7d1d199..9b5f754 100644
--- a/test/e2e-v2/cases/gateway/expected/service-instance-consumer.yml
+++ b/test/e2e-v2/cases/gateway/expected/service-instance-consumer.yml
@@ -37,4 +37,5 @@
   {{- end}}
   language: JAVA
   instanceuuid: {{ b64enc "e2e-service-consumer" }}.1_{{ b64enc "consumer1" }}
+  layer: GENERAL
 {{- end}}
diff --git a/test/e2e-v2/cases/gateway/expected/service-instance-provider.yml b/test/e2e-v2/cases/gateway/expected/service-instance-provider.yml
index a4cbe2c..6dc4522 100644
--- a/test/e2e-v2/cases/gateway/expected/service-instance-provider.yml
+++ b/test/e2e-v2/cases/gateway/expected/service-instance-provider.yml
@@ -37,6 +37,7 @@
   {{- end}}
   language: JAVA
   instanceuuid: {{ b64enc "e2e-service-provider" }}.1_{{ b64enc "provider1" }}
+  layer: GENERAL
 - id: {{ b64enc "e2e-service-provider" }}.1_{{ b64enc "provider2" }}
   name: provider2
   attributes:
@@ -58,4 +59,5 @@
   {{- end}}
   language: JAVA
   instanceuuid: {{ b64enc "e2e-service-provider" }}.1_{{ b64enc "provider2" }}
+  layer: GENERAL
 {{- end}}
diff --git a/test/e2e-v2/cases/gateway/expected/service.yml b/test/e2e-v2/cases/gateway/expected/service.yml
index 20e26bc..d3acfc1 100644
--- a/test/e2e-v2/cases/gateway/expected/service.yml
+++ b/test/e2e-v2/cases/gateway/expected/service.yml
@@ -17,7 +17,13 @@
 - id: {{ b64enc "e2e-service-provider" }}.1
   name: e2e-service-provider
   group: ""
+  shortname: e2e-service-provider
+  layers:
+    - GENERAL
 - id: {{ b64enc "e2e-service-consumer" }}.1
   name: e2e-service-consumer
   group: ""
+  shortname: e2e-service-consumer
+  layers:
+    - GENERAL
 {{- end }}
diff --git a/test/e2e-v2/cases/go/expected/service-instance-go.yml b/test/e2e-v2/cases/go/expected/service-instance-go.yml
index 07aa13b..3f1388d 100644
--- a/test/e2e-v2/cases/go/expected/service-instance-go.yml
+++ b/test/e2e-v2/cases/go/expected/service-instance-go.yml
@@ -31,4 +31,5 @@
   {{- end}}
   language: GO
   instanceuuid: {{ notEmpty .instanceuuid }}
+  layer: GENERAL
 {{- end}}
diff --git a/test/e2e-v2/cases/go/expected/service-instance-provider.yml b/test/e2e-v2/cases/go/expected/service-instance-provider.yml
index f9296e4..d862e0c 100644
--- a/test/e2e-v2/cases/go/expected/service-instance-provider.yml
+++ b/test/e2e-v2/cases/go/expected/service-instance-provider.yml
@@ -37,4 +37,5 @@
   {{- end}}
   language: JAVA
   instanceuuid: {{ b64enc "e2e-service-provider" }}.1_{{ b64enc "provider1" }}
-{{- end}}
\ No newline at end of file
+  layer: GENERAL
+{{- end}}
diff --git a/test/e2e-v2/cases/go/expected/service.yml b/test/e2e-v2/cases/go/expected/service.yml
index 38b4a60..8411651 100644
--- a/test/e2e-v2/cases/go/expected/service.yml
+++ b/test/e2e-v2/cases/go/expected/service.yml
@@ -17,10 +17,19 @@
 - id: {{ b64enc "e2e-service-provider" }}.1
   name: e2e-service-provider
   group: ""
+  shortname: e2e-service-provider
+  layers:
+    - GENERAL
 - id: {{ b64enc "e2e-service-consumer" }}.1
   name: e2e-service-consumer
   group: ""
+  shortname: e2e-service-consumer
+  layers:
+    - GENERAL
 - id: {{ b64enc "go2sky" }}.1
   name: go2sky
   group: ""
+  shortname: go2sky
+  layers:
+    - GENERAL
 {{- end }}
diff --git a/test/e2e-v2/cases/istio/metrics/expected/service-instance.yml b/test/e2e-v2/cases/istio/metrics/expected/service-instance.yml
index 658cdbd..05b3ccd 100644
--- a/test/e2e-v2/cases/istio/metrics/expected/service-instance.yml
+++ b/test/e2e-v2/cases/istio/metrics/expected/service-instance.yml
@@ -19,4 +19,5 @@
   attributes: []
   language: UNKNOWN
   instanceuuid: {{ notEmpty .instanceuuid }}
+  layer: GENERAL
 {{- end }}
diff --git a/test/e2e-v2/cases/istio/metrics/expected/service.yml b/test/e2e-v2/cases/istio/metrics/expected/service.yml
index 47194f3..845739d 100644
--- a/test/e2e-v2/cases/istio/metrics/expected/service.yml
+++ b/test/e2e-v2/cases/istio/metrics/expected/service.yml
@@ -16,20 +16,38 @@
 {{- contains . }}
 - id: {{ b64enc "istio-dp::e2e::istio-egressgateway" }}.1
   name: istio-dp::e2e::istio-egressgateway
-  group: ""
+  group: "istio-dp"
+  shortname: e2e::istio-egressgateway
+  layers:
+    - GENERAL
 - id: {{ b64enc "istio-dp::e2e::istio-ingressgateway" }}.1
   name: istio-dp::e2e::istio-ingressgateway
-  group: ""
+  group: "istio-dp"
+  shortname: e2e::istio-ingressgateway
+  layers:
+    - GENERAL
 - id: {{ b64enc "istio-dp::e2e::reviews" }}.1
   name: istio-dp::e2e::reviews
-  group: ""
+  group: "istio-dp"
+  shortname: e2e::reviews
+  layers:
+    - GENERAL
 - id: {{ b64enc "istio-dp::e2e::productpage" }}.1
   name: istio-dp::e2e::productpage
-  group: ""
+  group: "istio-dp"
+  shortname: e2e::productpage
+  layers:
+    - GENERAL
 - id: {{ b64enc "istio-dp::e2e::details" }}.1
   name: istio-dp::e2e::details
-  group: ""
+  group: "istio-dp"
+  shortname: e2e::details
+  layers:
+    - GENERAL
 - id: {{ b64enc "istio-dp::e2e::ratings" }}.1
   name: istio-dp::e2e::ratings
-  group: ""
+  group: "istio-dp"
+  shortname: e2e::ratings
+  layers:
+    - GENERAL
 {{- end }}
diff --git a/test/e2e-v2/cases/kafka/meter/expected/service-instance.yml b/test/e2e-v2/cases/kafka/meter/expected/service-instance.yml
index e525205..d862e0c 100644
--- a/test/e2e-v2/cases/kafka/meter/expected/service-instance.yml
+++ b/test/e2e-v2/cases/kafka/meter/expected/service-instance.yml
@@ -37,4 +37,5 @@
   {{- end}}
   language: JAVA
   instanceuuid: {{ b64enc "e2e-service-provider" }}.1_{{ b64enc "provider1" }}
+  layer: GENERAL
 {{- end}}
diff --git a/test/e2e-v2/cases/kafka/meter/expected/service.yml b/test/e2e-v2/cases/kafka/meter/expected/service.yml
index 3a33348..5c4be35 100644
--- a/test/e2e-v2/cases/kafka/meter/expected/service.yml
+++ b/test/e2e-v2/cases/kafka/meter/expected/service.yml
@@ -17,4 +17,7 @@
 - id: {{ b64enc "e2e-service-provider" }}.1
   name: e2e-service-provider
   group: ""
+  shortname: e2e-service-provider
+  layers:
+    - GENERAL
 {{- end }}
diff --git a/test/e2e-v2/cases/log/expected/service-instance.yml b/test/e2e-v2/cases/log/expected/service-instance.yml
index 652b013..0ec1a99 100644
--- a/test/e2e-v2/cases/log/expected/service-instance.yml
+++ b/test/e2e-v2/cases/log/expected/service-instance.yml
@@ -37,4 +37,5 @@
   {{- end}}
   language: JAVA
   instanceuuid: {{ b64enc "e2e-service-provider" }}.1_{{ b64enc "provider1" }}
-{{- end}}
\ No newline at end of file
+  layer: GENERAL
+{{- end}}
diff --git a/test/e2e-v2/cases/log/expected/service.yml b/test/e2e-v2/cases/log/expected/service.yml
index 25f310f..5c4be35 100644
--- a/test/e2e-v2/cases/log/expected/service.yml
+++ b/test/e2e-v2/cases/log/expected/service.yml
@@ -17,4 +17,7 @@
 - id: {{ b64enc "e2e-service-provider" }}.1
   name: e2e-service-provider
   group: ""
-{{- end }}
\ No newline at end of file
+  shortname: e2e-service-provider
+  layers:
+    - GENERAL
+{{- end }}
diff --git a/test/e2e-v2/cases/log/log-cases.yaml b/test/e2e-v2/cases/log/log-cases.yaml
index 05d0116..aca5691 100644
--- a/test/e2e-v2/cases/log/log-cases.yaml
+++ b/test/e2e-v2/cases/log/log-cases.yaml
@@ -15,7 +15,7 @@
 
   cases:
     # service list
-    - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql service ls
+    - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql service layer GENERAL
       expected: expected/service.yml
     # service endpoint
     - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql endpoint list --keyword=users --service-name=e2e-service-provider
diff --git a/test/e2e-v2/cases/lua/expected/service-instance-nginx.yml b/test/e2e-v2/cases/lua/expected/service-instance-nginx.yml
index c7b910e..7ad01b9 100644
--- a/test/e2e-v2/cases/lua/expected/service-instance-nginx.yml
+++ b/test/e2e-v2/cases/lua/expected/service-instance-nginx.yml
@@ -37,4 +37,5 @@
   {{- end}}
   language: LUA
   instanceuuid: {{ b64enc "User_Service_Name" }}.1_{{ b64enc "User_Service_Instance_Name" }}
-{{- end}}
\ No newline at end of file
+  layer: GENERAL
+{{- end}}
diff --git a/test/e2e-v2/cases/lua/expected/service-instance.yml b/test/e2e-v2/cases/lua/expected/service-instance.yml
index bdc121e..d029146 100644
--- a/test/e2e-v2/cases/lua/expected/service-instance.yml
+++ b/test/e2e-v2/cases/lua/expected/service-instance.yml
@@ -37,4 +37,5 @@
   {{- end}}
   language: JAVA
   instanceuuid: {{ b64enc "e2e-service-entry-provider" }}.1_{{ b64enc "provider1" }}
-{{- end}}
\ No newline at end of file
+  layer: GENERAL
+{{- end}}
diff --git a/test/e2e-v2/cases/lua/expected/service.yml b/test/e2e-v2/cases/lua/expected/service.yml
index 32f9bac..45a8489 100644
--- a/test/e2e-v2/cases/lua/expected/service.yml
+++ b/test/e2e-v2/cases/lua/expected/service.yml
@@ -17,10 +17,19 @@
 - id: {{ b64enc "e2e-service-entry-provider" }}.1
   name: e2e-service-entry-provider
   group: ""
+  shortname: e2e-service-entry-provider
+  layers:
+    - GENERAL
 - id: {{ b64enc "User_Service_Name" }}.1
   name: User_Service_Name
   group: ""
+  shortname: User_Service_Name
+  layers:
+    - GENERAL
 - id: {{ b64enc "e2e-service-end-provider" }}.1
   name: e2e-service-end-provider
   group: ""
-{{- end }}
\ No newline at end of file
+  shortname: e2e-service-end-provider
+  layers:
+    - GENERAL
+{{- end }}
diff --git a/test/e2e-v2/cases/meter/expected/service-instance.yml b/test/e2e-v2/cases/meter/expected/service-instance.yml
index e525205..d862e0c 100644
--- a/test/e2e-v2/cases/meter/expected/service-instance.yml
+++ b/test/e2e-v2/cases/meter/expected/service-instance.yml
@@ -37,4 +37,5 @@
   {{- end}}
   language: JAVA
   instanceuuid: {{ b64enc "e2e-service-provider" }}.1_{{ b64enc "provider1" }}
+  layer: GENERAL
 {{- end}}
diff --git a/test/e2e-v2/cases/meter/expected/service.yml b/test/e2e-v2/cases/meter/expected/service.yml
index 3a33348..5c4be35 100644
--- a/test/e2e-v2/cases/meter/expected/service.yml
+++ b/test/e2e-v2/cases/meter/expected/service.yml
@@ -17,4 +17,7 @@
 - id: {{ b64enc "e2e-service-provider" }}.1
   name: e2e-service-provider
   group: ""
+  shortname: e2e-service-provider
+  layers:
+    - GENERAL
 {{- end }}
diff --git a/test/e2e-v2/cases/nodejs/expected/service-instance-consumer-nodejs.yml b/test/e2e-v2/cases/nodejs/expected/service-instance-consumer-nodejs.yml
index 8c23508..972ff76 100644
--- a/test/e2e-v2/cases/nodejs/expected/service-instance-consumer-nodejs.yml
+++ b/test/e2e-v2/cases/nodejs/expected/service-instance-consumer-nodejs.yml
@@ -29,4 +29,5 @@
   {{- end}}
   language: UNKNOWN
   instanceuuid: {{ b64enc "consumer" }}.1_{{ b64enc "consumer-instance" }}
+  layer: GENERAL
 {{- end}}
diff --git a/test/e2e-v2/cases/nodejs/expected/service-instance-provider-nodejs.yml b/test/e2e-v2/cases/nodejs/expected/service-instance-provider-nodejs.yml
index 196d196..15622a6 100644
--- a/test/e2e-v2/cases/nodejs/expected/service-instance-provider-nodejs.yml
+++ b/test/e2e-v2/cases/nodejs/expected/service-instance-provider-nodejs.yml
@@ -29,4 +29,5 @@
   {{- end}}
   language: UNKNOWN
   instanceuuid: {{ b64enc "provider" }}.1_{{ b64enc "provider-instance" }}
+  layer: GENERAL
 {{- end}}
diff --git a/test/e2e-v2/cases/nodejs/expected/service.yml b/test/e2e-v2/cases/nodejs/expected/service.yml
index 68428b1..896a6b8 100644
--- a/test/e2e-v2/cases/nodejs/expected/service.yml
+++ b/test/e2e-v2/cases/nodejs/expected/service.yml
@@ -17,10 +17,19 @@
 - id: {{ b64enc "consumer" }}.1
   name: consumer
   group: ""
+  shortname: consumer
+  layers:
+    - GENERAL
 - id: {{ b64enc "provider" }}.1
   name: provider
   group: ""
+  shortname: provider
+  layers:
+    - GENERAL
 - id: {{ b64enc "e2e-service-consumer" }}.1
   name: e2e-service-consumer
   group: ""
+  shortname: e2e-service-consumer
+  layers:
+    - GENERAL
 {{- end }}
diff --git a/test/e2e-v2/cases/php/e2e.yaml b/test/e2e-v2/cases/php/e2e.yaml
index 463909b..adf1004 100644
--- a/test/e2e-v2/cases/php/e2e.yaml
+++ b/test/e2e-v2/cases/php/e2e.yaml
@@ -41,8 +41,11 @@ verify:
     # the interval between two retries, in millisecond.
     interval: 3s
   cases:
+    # layer list
+    - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql layer ls
+      expected: expected/layer.yml
     # service list
-    - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql service ls
+    - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql service layer GENERAL
       expected: expected/service.yml
     # service instance list
     - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql instance list --service-name=php
diff --git a/test/e2e-v2/cases/php/expected/layer.yml b/test/e2e-v2/cases/php/expected/layer.yml
new file mode 100644
index 0000000..fc77de8
--- /dev/null
+++ b/test/e2e-v2/cases/php/expected/layer.yml
@@ -0,0 +1,19 @@
+# Licensed to the Apache Software Foundation (ASF) under one or more
+# contributor license agreements.  See the NOTICE file distributed with
+# this work for additional information regarding copyright ownership.
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+{{- contains . }}
+- GENERAL
+- VIRTUAL_DATABASE
+{{- end }}
diff --git a/test/e2e-v2/cases/php/expected/service-instance-php.yml b/test/e2e-v2/cases/php/expected/service-instance-php.yml
index 52a1343..b66e9c2 100644
--- a/test/e2e-v2/cases/php/expected/service-instance-php.yml
+++ b/test/e2e-v2/cases/php/expected/service-instance-php.yml
@@ -31,4 +31,5 @@
   {{- end}}
   language: PHP
   instanceuuid: {{ b64enc "php" }}.1_{{ b64enc "php-instance" }}
+  layer: GENERAL
 {{- end}}
diff --git a/test/e2e-v2/cases/php/expected/service-instance-provider.yml b/test/e2e-v2/cases/php/expected/service-instance-provider.yml
index f9296e4..d862e0c 100644
--- a/test/e2e-v2/cases/php/expected/service-instance-provider.yml
+++ b/test/e2e-v2/cases/php/expected/service-instance-provider.yml
@@ -37,4 +37,5 @@
   {{- end}}
   language: JAVA
   instanceuuid: {{ b64enc "e2e-service-provider" }}.1_{{ b64enc "provider1" }}
-{{- end}}
\ No newline at end of file
+  layer: GENERAL
+{{- end}}
diff --git a/test/e2e-v2/cases/php/expected/service.yml b/test/e2e-v2/cases/php/expected/service.yml
index 61d110d..0bdbfeb 100644
--- a/test/e2e-v2/cases/php/expected/service.yml
+++ b/test/e2e-v2/cases/php/expected/service.yml
@@ -17,7 +17,13 @@
 - id: {{ b64enc "e2e-service-provider" }}.1
   name: e2e-service-provider
   group: ""
+  shortname: e2e-service-provider
+  layers:
+    - GENERAL
 - id: {{ b64enc "php" }}.1
   name: php
   group: ""
+  shortname: php
+  layers:
+    - GENERAL
 {{- end }}
diff --git a/test/e2e-v2/cases/profile/expected/service-instance.yml b/test/e2e-v2/cases/profile/expected/service-instance.yml
index e525205..d862e0c 100644
--- a/test/e2e-v2/cases/profile/expected/service-instance.yml
+++ b/test/e2e-v2/cases/profile/expected/service-instance.yml
@@ -37,4 +37,5 @@
   {{- end}}
   language: JAVA
   instanceuuid: {{ b64enc "e2e-service-provider" }}.1_{{ b64enc "provider1" }}
+  layer: GENERAL
 {{- end}}
diff --git a/test/e2e-v2/cases/profile/expected/service.yml b/test/e2e-v2/cases/profile/expected/service.yml
index 3a33348..5c4be35 100644
--- a/test/e2e-v2/cases/profile/expected/service.yml
+++ b/test/e2e-v2/cases/profile/expected/service.yml
@@ -17,4 +17,7 @@
 - id: {{ b64enc "e2e-service-provider" }}.1
   name: e2e-service-provider
   group: ""
+  shortname: e2e-service-provider
+  layers:
+    - GENERAL
 {{- end }}
diff --git a/test/e2e-v2/cases/python/expected/service-instance-consumer-java.yml b/test/e2e-v2/cases/python/expected/service-instance-consumer-java.yml
index 7d1d199..9b5f754 100644
--- a/test/e2e-v2/cases/python/expected/service-instance-consumer-java.yml
+++ b/test/e2e-v2/cases/python/expected/service-instance-consumer-java.yml
@@ -37,4 +37,5 @@
   {{- end}}
   language: JAVA
   instanceuuid: {{ b64enc "e2e-service-consumer" }}.1_{{ b64enc "consumer1" }}
+  layer: GENERAL
 {{- end}}
diff --git a/test/e2e-v2/cases/python/expected/service-instance-consumer-py.yml b/test/e2e-v2/cases/python/expected/service-instance-consumer-py.yml
index 937a69a..4db26d1 100644
--- a/test/e2e-v2/cases/python/expected/service-instance-consumer-py.yml
+++ b/test/e2e-v2/cases/python/expected/service-instance-consumer-py.yml
@@ -25,4 +25,5 @@
   {{- end}}
   language: UNKNOWN
   instanceuuid: {{ b64enc "consumer-py" }}.1_{{ b64enc "consumer-py-instance" }}
+  layer: GENERAL
 {{- end}}
diff --git a/test/e2e-v2/cases/python/expected/service-instance-provider-py-kafka.yml b/test/e2e-v2/cases/python/expected/service-instance-provider-py-kafka.yml
index ee7870c..a62d85c 100644
--- a/test/e2e-v2/cases/python/expected/service-instance-provider-py-kafka.yml
+++ b/test/e2e-v2/cases/python/expected/service-instance-provider-py-kafka.yml
@@ -25,4 +25,5 @@
   {{- end}}
   language: UNKNOWN
   instanceuuid: {{ b64enc "provider-py-kafka" }}.1_{{ b64enc "provider-py-kafka-instance" }}
+  layer: GENERAL
 {{- end}}
diff --git a/test/e2e-v2/cases/python/expected/service-instance-provider-py.yml b/test/e2e-v2/cases/python/expected/service-instance-provider-py.yml
index 53c2518..0c2ce9d 100644
--- a/test/e2e-v2/cases/python/expected/service-instance-provider-py.yml
+++ b/test/e2e-v2/cases/python/expected/service-instance-provider-py.yml
@@ -25,4 +25,5 @@
   {{- end}}
   language: UNKNOWN
   instanceuuid: {{ b64enc "provider-py" }}.1_{{ b64enc "provider-py-instance" }}
+  layer: GENERAL
 {{- end}}
diff --git a/test/e2e-v2/cases/python/expected/service.yml b/test/e2e-v2/cases/python/expected/service.yml
index 23c736d..24caf16 100644
--- a/test/e2e-v2/cases/python/expected/service.yml
+++ b/test/e2e-v2/cases/python/expected/service.yml
@@ -17,13 +17,25 @@
 - id: {{ b64enc "provider-py" }}.1
   name: provider-py
   group: ""
+  shortname: provider-py
+  layers:
+    - GENERAL
 - id: {{ b64enc "e2e-service-consumer" }}.1
   name: e2e-service-consumer
   group: ""
+  shortname: e2e-service-consumer
+  layers:
+    - GENERAL
 - id: {{ b64enc "consumer-py" }}.1
   name: consumer-py
   group: ""
+  shortname: consumer-py
+  layers:
+    - GENERAL
 - id: {{ b64enc "provider-py-kafka" }}.1
   name: provider-py-kafka
   group: ""
+  shortname: provider-py-kafka
+  layers:
+    - GENERAL
 {{- end }}
diff --git a/test/e2e-v2/cases/satellite/native-protocols/expected/service-instance.yml b/test/e2e-v2/cases/satellite/native-protocols/expected/service-instance.yml
index 5f03bc1..0ec1a99 100644
--- a/test/e2e-v2/cases/satellite/native-protocols/expected/service-instance.yml
+++ b/test/e2e-v2/cases/satellite/native-protocols/expected/service-instance.yml
@@ -37,4 +37,5 @@
   {{- end}}
   language: JAVA
   instanceuuid: {{ b64enc "e2e-service-provider" }}.1_{{ b64enc "provider1" }}
+  layer: GENERAL
 {{- end}}
diff --git a/test/e2e-v2/cases/satellite/native-protocols/expected/service.yml b/test/e2e-v2/cases/satellite/native-protocols/expected/service.yml
index 20e26bc..d3acfc1 100644
--- a/test/e2e-v2/cases/satellite/native-protocols/expected/service.yml
+++ b/test/e2e-v2/cases/satellite/native-protocols/expected/service.yml
@@ -17,7 +17,13 @@
 - id: {{ b64enc "e2e-service-provider" }}.1
   name: e2e-service-provider
   group: ""
+  shortname: e2e-service-provider
+  layers:
+    - GENERAL
 - id: {{ b64enc "e2e-service-consumer" }}.1
   name: e2e-service-consumer
   group: ""
+  shortname: e2e-service-consumer
+  layers:
+    - GENERAL
 {{- end }}
diff --git a/test/e2e-v2/cases/simple/expected/layer.yml b/test/e2e-v2/cases/simple/expected/layer.yml
new file mode 100644
index 0000000..fc77de8
--- /dev/null
+++ b/test/e2e-v2/cases/simple/expected/layer.yml
@@ -0,0 +1,19 @@
+# Licensed to the Apache Software Foundation (ASF) under one or more
+# contributor license agreements.  See the NOTICE file distributed with
+# this work for additional information regarding copyright ownership.
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+{{- contains . }}
+- GENERAL
+- VIRTUAL_DATABASE
+{{- end }}
diff --git a/test/e2e-v2/cases/simple/expected/service-instance-consumer.yml b/test/e2e-v2/cases/simple/expected/service-instance-consumer.yml
index 7d1d199..9b5f754 100644
--- a/test/e2e-v2/cases/simple/expected/service-instance-consumer.yml
+++ b/test/e2e-v2/cases/simple/expected/service-instance-consumer.yml
@@ -37,4 +37,5 @@
   {{- end}}
   language: JAVA
   instanceuuid: {{ b64enc "e2e-service-consumer" }}.1_{{ b64enc "consumer1" }}
+  layer: GENERAL
 {{- end}}
diff --git a/test/e2e-v2/cases/simple/expected/service-instance-provider.yml b/test/e2e-v2/cases/simple/expected/service-instance-provider.yml
index f9296e4..d862e0c 100644
--- a/test/e2e-v2/cases/simple/expected/service-instance-provider.yml
+++ b/test/e2e-v2/cases/simple/expected/service-instance-provider.yml
@@ -37,4 +37,5 @@
   {{- end}}
   language: JAVA
   instanceuuid: {{ b64enc "e2e-service-provider" }}.1_{{ b64enc "provider1" }}
-{{- end}}
\ No newline at end of file
+  layer: GENERAL
+{{- end}}
diff --git a/test/e2e-v2/cases/simple/expected/service.yml b/test/e2e-v2/cases/simple/expected/service.yml
index 20e26bc..eebc8d2 100644
--- a/test/e2e-v2/cases/simple/expected/service.yml
+++ b/test/e2e-v2/cases/simple/expected/service.yml
@@ -17,7 +17,19 @@
 - id: {{ b64enc "e2e-service-provider" }}.1
   name: e2e-service-provider
   group: ""
+  shortname: e2e-service-provider
+  layers:
+    - GENERAL
 - id: {{ b64enc "e2e-service-consumer" }}.1
   name: e2e-service-consumer
   group: ""
+  shortname: e2e-service-consumer
+  layers:
+    - GENERAL
+- id: {{ b64enc "localhost:-1" }}.0
+  name: localhost:-1
+  group: ""
+  shortname: localhost:-1
+  layers:
+    - VIRTUAL_DATABASE
 {{- end }}
diff --git a/test/e2e-v2/cases/simple/simple-cases.yaml b/test/e2e-v2/cases/simple/simple-cases.yaml
index f6549c1..fe27cc9 100644
--- a/test/e2e-v2/cases/simple/simple-cases.yaml
+++ b/test/e2e-v2/cases/simple/simple-cases.yaml
@@ -14,6 +14,9 @@
 # limitations under the License.
 
 cases:
+  # layer list
+  - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql layer ls
+    expected: expected/layer.yml
   # service list
   - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql service ls
     expected: expected/service.yml
diff --git a/test/e2e-v2/cases/so11y/expected/layer.yml b/test/e2e-v2/cases/so11y/expected/layer.yml
new file mode 100644
index 0000000..ec21ec5
--- /dev/null
+++ b/test/e2e-v2/cases/so11y/expected/layer.yml
@@ -0,0 +1,20 @@
+# Licensed to the Apache Software Foundation (ASF) under one or more
+# contributor license agreements.  See the NOTICE file distributed with
+# this work for additional information regarding copyright ownership.
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+{{- contains . }}
+- GENERAL
+- VIRTUAL_DATABASE
+- SO11Y_OAP
+{{- end }}
diff --git a/test/e2e-v2/cases/so11y/expected/satellite-service.yml b/test/e2e-v2/cases/so11y/expected/satellite-service.yml
index 13cf8cd..8026771 100644
--- a/test/e2e-v2/cases/so11y/expected/satellite-service.yml
+++ b/test/e2e-v2/cases/so11y/expected/satellite-service.yml
@@ -16,5 +16,8 @@
 {{- contains . }}
 - id: {{ b64enc "satellite::satellite-service" }}.1
   name: satellite::satellite-service
-  group: ""
-{{- end }}
\ No newline at end of file
+  group: satellite
+  shortname: satellite-service
+  layers:
+    - SO11Y_SATELLITE
+{{- end }}
diff --git a/test/e2e-v2/cases/so11y/expected/service-instance.yml b/test/e2e-v2/cases/so11y/expected/service-instance.yml
index 4c1ff1b..f63e80c 100644
--- a/test/e2e-v2/cases/so11y/expected/service-instance.yml
+++ b/test/e2e-v2/cases/so11y/expected/service-instance.yml
@@ -21,4 +21,5 @@
   attributes: []
   language: UNKNOWN
   instanceuuid: {{ b64enc "oap::oap-server" }}.1_{{ b64enc "http://localhost:1234" }}
-{{- end}}
\ No newline at end of file
+  layer: SO11Y_OAP
+{{- end}}
diff --git a/test/e2e-v2/cases/so11y/expected/service.yml b/test/e2e-v2/cases/so11y/expected/service.yml
index b1ec136..3376dd5 100644
--- a/test/e2e-v2/cases/so11y/expected/service.yml
+++ b/test/e2e-v2/cases/so11y/expected/service.yml
@@ -17,10 +17,25 @@
 - id: {{ b64enc "e2e-service-provider" }}.1
   name: e2e-service-provider
   group: ""
+  shortname: e2e-service-provider
+  layers:
+    - GENERAL
 - id: {{ b64enc "e2e-service-consumer" }}.1
   name: e2e-service-consumer
   group: ""
+  shortname: e2e-service-consumer
+  layers:
+    - GENERAL
+- id: {{ b64enc "localhost:-1" }}.0
+  name: localhost:-1
+  group: ""
+  shortname: localhost:-1
+  layers:
+    - VIRTUAL_DATABASE
 - id: {{ b64enc "oap::oap-server" }}.1
   name: oap::oap-server
-  group: ""
-{{- end }}
\ No newline at end of file
+  group: oap
+  shortname: oap-server
+  layers:
+    - SO11Y_OAP
+{{- end }}
diff --git a/test/e2e-v2/cases/so11y/satellite-cases.yaml b/test/e2e-v2/cases/so11y/satellite-cases.yaml
index 9bbeffb..25562bd 100644
--- a/test/e2e-v2/cases/so11y/satellite-cases.yaml
+++ b/test/e2e-v2/cases/so11y/satellite-cases.yaml
@@ -15,10 +15,10 @@
 
   cases:
     # service list
-    - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql service ls
+    - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql service layer SO11Y_SATELLITE
       expected: expected/satellite-service.yml
     # service metrics
     - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql metrics linear --name=satellite_service_server_cpu_utilization --service-name=satellite::satellite-service |yq e 'to_entries' -
       expected: expected/metrics-has-value.yml
     - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql metrics linear --name=satellite_service_grpc_connect_count --service-name=satellite::satellite-service |yq e 'to_entries' -
-      expected: expected/metrics-has-value.yml
\ No newline at end of file
+      expected: expected/metrics-has-value.yml
diff --git a/test/e2e-v2/cases/so11y/so11y-cases.yaml b/test/e2e-v2/cases/so11y/so11y-cases.yaml
index 3e2276a..3899035 100644
--- a/test/e2e-v2/cases/so11y/so11y-cases.yaml
+++ b/test/e2e-v2/cases/so11y/so11y-cases.yaml
@@ -14,6 +14,9 @@
 # limitations under the License.
 
   cases:
+    # layer list
+    - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql layer ls
+      expected: expected/layer.yml
     # service list
     - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql service ls
       expected: expected/service.yml
diff --git a/test/e2e-v2/cases/storage/expected/layer.yml b/test/e2e-v2/cases/storage/expected/layer.yml
new file mode 100644
index 0000000..fc77de8
--- /dev/null
+++ b/test/e2e-v2/cases/storage/expected/layer.yml
@@ -0,0 +1,19 @@
+# Licensed to the Apache Software Foundation (ASF) under one or more
+# contributor license agreements.  See the NOTICE file distributed with
+# this work for additional information regarding copyright ownership.
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+{{- contains . }}
+- GENERAL
+- VIRTUAL_DATABASE
+{{- end }}
diff --git a/test/e2e-v2/cases/storage/expected/service-instance.yml b/test/e2e-v2/cases/storage/expected/service-instance.yml
index 5f03bc1..0ec1a99 100644
--- a/test/e2e-v2/cases/storage/expected/service-instance.yml
+++ b/test/e2e-v2/cases/storage/expected/service-instance.yml
@@ -37,4 +37,5 @@
   {{- end}}
   language: JAVA
   instanceuuid: {{ b64enc "e2e-service-provider" }}.1_{{ b64enc "provider1" }}
+  layer: GENERAL
 {{- end}}
diff --git a/test/e2e-v2/cases/storage/expected/service.yml b/test/e2e-v2/cases/storage/expected/service.yml
index 20e26bc..d3acfc1 100644
--- a/test/e2e-v2/cases/storage/expected/service.yml
+++ b/test/e2e-v2/cases/storage/expected/service.yml
@@ -17,7 +17,13 @@
 - id: {{ b64enc "e2e-service-provider" }}.1
   name: e2e-service-provider
   group: ""
+  shortname: e2e-service-provider
+  layers:
+    - GENERAL
 - id: {{ b64enc "e2e-service-consumer" }}.1
   name: e2e-service-consumer
   group: ""
+  shortname: e2e-service-consumer
+  layers:
+    - GENERAL
 {{- end }}
diff --git a/test/e2e-v2/cases/storage/storage-cases.yaml b/test/e2e-v2/cases/storage/storage-cases.yaml
index 83bafdd..792ba74 100644
--- a/test/e2e-v2/cases/storage/storage-cases.yaml
+++ b/test/e2e-v2/cases/storage/storage-cases.yaml
@@ -14,8 +14,11 @@
 # limitations under the License.
 
 cases:
+  # layer list
+  - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql layer ls
+    expected: expected/layer.yml
   # service list
-  - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql service ls
+  - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql service layer GENERAL
     expected: expected/service.yml
   # service metrics
   - query: swctl --display yaml --base-url=http://${oap_host}:${oap_12800}/graphql metrics linear --name service_sla --service-name=e2e-service-provider | yq e 'to_entries' -
diff --git a/test/e2e-v2/cases/vm/expected/service.yml b/test/e2e-v2/cases/vm/expected/service.yml
index 84e8128..8e56a0c 100644
--- a/test/e2e-v2/cases/vm/expected/service.yml
+++ b/test/e2e-v2/cases/vm/expected/service.yml
@@ -16,5 +16,8 @@
 {{- contains . }}
 - id: {{ b64enc "vm::vm-service" }}.1
   name: vm::vm-service
-  group: ""
+  shortname: vm-service
+  group: vm
+  layers:
+    - OS_LINUX
 {{- end }}
diff --git a/test/e2e-v2/script/env b/test/e2e-v2/script/env
index e3c2aee..45c3967 100644
--- a/test/e2e-v2/script/env
+++ b/test/e2e-v2/script/env
@@ -23,4 +23,4 @@ SW_AGENT_CLIENT_JS_COMMIT=af0565a67d382b683c1dbd94c379b7080db61449
 SW_AGENT_CLIENT_JS_TEST_COMMIT=4f1eb1dcdbde3ec4a38534bf01dded4ab5d2f016
 SW_KUBERNETES_COMMIT_SHA=0f3ec68e5a7e1608cec8688716b848ed15e971e5
 
-SW_CTL_COMMIT=45a5f9807126dc6ea9fe06e17e7aafbe212436d2
+SW_CTL_COMMIT=3278a47ab49e672f4ef7eb2ab5c806faf3c48dd5
diff --git a/test/e2e-v2/script/prepare/setup-e2e-shell/install-swctl.sh b/test/e2e-v2/script/prepare/setup-e2e-shell/install-swctl.sh
index 5893252..c58fde4 100644
--- a/test/e2e-v2/script/prepare/setup-e2e-shell/install-swctl.sh
+++ b/test/e2e-v2/script/prepare/setup-e2e-shell/install-swctl.sh
@@ -27,5 +27,5 @@ if ! command -v swctl &> /dev/null; then
   curl -kLo skywalking-cli.tar.gz https://github.com/apache/skywalking-cli/archive/${SW_CTL_COMMIT}.tar.gz
   tar -zxf skywalking-cli.tar.gz --strip=1
   utype=$(uname | awk '{print tolower($0)}')
-  make $utype && mv bin/swctl-*-$utype-amd64 $BIN_DIR/swctl
-fi
\ No newline at end of file
+  make $utype-amd64 && mv bin/swctl-*-$utype-amd64 $BIN_DIR/swctl
+fi

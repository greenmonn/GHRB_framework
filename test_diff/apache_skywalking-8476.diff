diff --git a/test/e2e-v2/cases/alarm/h2/docker-compose.yml b/test/e2e-v2/cases/alarm/h2/docker-compose.yml
index 822d057..f0d7fc2 100644
--- a/test/e2e-v2/cases/alarm/h2/docker-compose.yml
+++ b/test/e2e-v2/cases/alarm/h2/docker-compose.yml
@@ -25,7 +25,7 @@ services:
     expose:
       - 1521
     healthcheck:
-      test: [ "CMD", "sh", "-c", "nc -z 127.0.0.1 1521" ]
+      test: ["CMD", "bash", "-c", "cat < /dev/null > /dev/tcp/127.0.0.1/1521"]
       interval: 5s
       timeout: 60s
       retries: 120
diff --git a/test/e2e-v2/cases/event/h2/docker-compose.yml b/test/e2e-v2/cases/event/h2/docker-compose.yml
index 9db5c9d..6113169 100644
--- a/test/e2e-v2/cases/event/h2/docker-compose.yml
+++ b/test/e2e-v2/cases/event/h2/docker-compose.yml
@@ -25,7 +25,7 @@ services:
     expose:
       - 1521
     healthcheck:
-      test: ["CMD", "sh", "-c", "nc -z 127.0.0.1 1521"]
+      test: ["CMD", "bash", "-c", "cat < /dev/null > /dev/tcp/127.0.0.1/1521"]
       interval: 5s
       timeout: 60s
       retries: 120
diff --git a/test/e2e-v2/cases/log/h2/docker-compose.yml b/test/e2e-v2/cases/log/h2/docker-compose.yml
index 1c566ff..c7bad94 100644
--- a/test/e2e-v2/cases/log/h2/docker-compose.yml
+++ b/test/e2e-v2/cases/log/h2/docker-compose.yml
@@ -25,7 +25,7 @@ services:
     expose:
       - 1521
     healthcheck:
-      test: [ "CMD", "sh", "-c", "nc -z 127.0.0.1 1521" ]
+      test: ["CMD", "bash", "-c", "cat < /dev/null > /dev/tcp/127.0.0.1/1521"]
       interval: 5s
       timeout: 60s
       retries: 120
diff --git a/test/e2e-v2/cases/meter/docker-compose.yml b/test/e2e-v2/cases/meter/docker-compose.yml
index 7590a7d..7bb194b 100644
--- a/test/e2e-v2/cases/meter/docker-compose.yml
+++ b/test/e2e-v2/cases/meter/docker-compose.yml
@@ -40,7 +40,7 @@ services:
       - 9090
 
   sender:
-    image: "adoptopenjdk/openjdk8:alpine-jre"
+    image: "eclipse-temurin:8-jre"
     volumes:
       - ./../../java-test-service/e2e-mock-sender/target/e2e-mock-sender-2.0.0.jar:/e2e-mock-sender-2.0.0.jar
     command: [ "java", "-jar", "/e2e-mock-sender-2.0.0.jar" ]
diff --git a/test/e2e-v2/cases/profile/h2/docker-compose.yml b/test/e2e-v2/cases/profile/h2/docker-compose.yml
index ed2cd25..1afd4a9 100644
--- a/test/e2e-v2/cases/profile/h2/docker-compose.yml
+++ b/test/e2e-v2/cases/profile/h2/docker-compose.yml
@@ -25,7 +25,7 @@ services:
     expose:
       - 1521
     healthcheck:
-      test: ["CMD", "sh", "-c", "nc -z 127.0.0.1 1521"]
+      test: ["CMD", "bash", "-c", "cat < /dev/null > /dev/tcp/127.0.0.1/1521"]
       interval: 5s
       timeout: 60s
       retries: 120
diff --git a/test/e2e-v2/cases/storage/h2/docker-compose.yml b/test/e2e-v2/cases/storage/h2/docker-compose.yml
index b525f47..1220d6a 100644
--- a/test/e2e-v2/cases/storage/h2/docker-compose.yml
+++ b/test/e2e-v2/cases/storage/h2/docker-compose.yml
@@ -25,7 +25,7 @@ services:
     expose:
       - 1521
     healthcheck:
-      test: [ "CMD", "sh", "-c", "nc -z 127.0.0.1 1521" ]
+      test: ["CMD", "bash", "-c", "cat < /dev/null > /dev/tcp/127.0.0.1/1521"]
       interval: 5s
       timeout: 60s
       retries: 120
diff --git a/test/e2e-v2/cases/ttl/es/docker-compose.yml b/test/e2e-v2/cases/ttl/es/docker-compose.yml
index 25841f5..426a4b1 100644
--- a/test/e2e-v2/cases/ttl/es/docker-compose.yml
+++ b/test/e2e-v2/cases/ttl/es/docker-compose.yml
@@ -48,7 +48,7 @@ services:
     - 12800
 
   sender:
-    image: "adoptopenjdk/openjdk8:alpine-jre"
+    image: "eclipse-temurin:8-jre"
     volumes:
       - ./../../../java-test-service/e2e-mock-sender/target/e2e-mock-sender-2.0.0.jar:/e2e-mock-sender-2.0.0.jar
     command: [ "java", "-jar", "/e2e-mock-sender-2.0.0.jar" ]
diff --git a/test/e2e-v2/cases/ttl/influxdb/docker-compose.yml b/test/e2e-v2/cases/ttl/influxdb/docker-compose.yml
index 4d7e906..f83fa12 100644
--- a/test/e2e-v2/cases/ttl/influxdb/docker-compose.yml
+++ b/test/e2e-v2/cases/ttl/influxdb/docker-compose.yml
@@ -43,7 +43,7 @@ services:
     - 12800
 
   sender:
-    image: "adoptopenjdk/openjdk8:alpine-jre"
+    image: "eclipse-temurin:8-jre"
     volumes:
       - ./../../../java-test-service/e2e-mock-sender/target/e2e-mock-sender-2.0.0.jar:/e2e-mock-sender-2.0.0.jar
     command: [ "java", "-jar", "/e2e-mock-sender-2.0.0.jar" ]
diff --git a/test/e2e-v2/cases/ttl/iotdb/docker-compose.yml b/test/e2e-v2/cases/ttl/iotdb/docker-compose.yml
index 2a5c238..131c72f 100644
--- a/test/e2e-v2/cases/ttl/iotdb/docker-compose.yml
+++ b/test/e2e-v2/cases/ttl/iotdb/docker-compose.yml
@@ -43,7 +43,7 @@ services:
     - 12800
 
   sender:
-    image: "adoptopenjdk/openjdk8:alpine-jre"
+    image: "eclipse-temurin:8-jre"
     volumes:
       - ./../../../java-test-service/e2e-mock-sender/target/e2e-mock-sender-2.0.0.jar:/e2e-mock-sender-2.0.0.jar
     command: [ "java", "-jar", "/e2e-mock-sender-2.0.0.jar" ]
diff --git a/test/e2e-v2/cases/ttl/postgresql/docker-compose.yml b/test/e2e-v2/cases/ttl/postgresql/docker-compose.yml
index 3b16806..dad2729 100644
--- a/test/e2e-v2/cases/ttl/postgresql/docker-compose.yml
+++ b/test/e2e-v2/cases/ttl/postgresql/docker-compose.yml
@@ -47,7 +47,7 @@ services:
     - 12800
 
   sender:
-    image: "adoptopenjdk/openjdk8:alpine-jre"
+    image: "eclipse-temurin:8-jre"
     volumes:
       - ./../../../java-test-service/e2e-mock-sender/target/e2e-mock-sender-2.0.0.jar:/e2e-mock-sender-2.0.0.jar
     command: [ "java", "-jar", "/e2e-mock-sender-2.0.0.jar" ]
diff --git a/test/e2e-v2/cases/ttl/tidb/docker-compose.yml b/test/e2e-v2/cases/ttl/tidb/docker-compose.yml
index 344cd02..3b5654e 100644
--- a/test/e2e-v2/cases/ttl/tidb/docker-compose.yml
+++ b/test/e2e-v2/cases/ttl/tidb/docker-compose.yml
@@ -49,7 +49,7 @@ services:
     - 12800
 
   sender:
-    image: "adoptopenjdk/openjdk8:alpine-jre"
+    image: "eclipse-temurin:8-jre"
     volumes:
       - ./../../../java-test-service/e2e-mock-sender/target/e2e-mock-sender-2.0.0.jar:/e2e-mock-sender-2.0.0.jar
     command: [ "java", "-jar", "/e2e-mock-sender-2.0.0.jar" ]
diff --git a/test/e2e-v2/java-test-service/pom.xml b/test/e2e-v2/java-test-service/pom.xml
index 9cb9819..858b30f 100644
--- a/test/e2e-v2/java-test-service/pom.xml
+++ b/test/e2e-v2/java-test-service/pom.xml
@@ -50,7 +50,7 @@
         <guava.version>30.1.1-jre</guava.version>
         <h2.version>2.1.210</h2.version>
         <mysql.version>8.0.13</mysql.version>
-        <lombok.version>1.18.20</lombok.version>
+        <lombok.version>1.18.22</lombok.version>
         <kafka-clients.version>2.4.1</kafka-clients.version>
 
         <maven-failsafe-plugin.version>2.22.0</maven-failsafe-plugin.version>
diff --git a/test/e2e-v2/script/dockerfile/Dockerfile.h2 b/test/e2e-v2/script/dockerfile/Dockerfile.h2
index b77f407..7efd795 100644
--- a/test/e2e-v2/script/dockerfile/Dockerfile.h2
+++ b/test/e2e-v2/script/dockerfile/Dockerfile.h2
@@ -13,7 +13,7 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-FROM adoptopenjdk/openjdk8:alpine
+FROM eclipse-temurin:11-jre
 
 WORKDIR /h2
 
@@ -21,4 +21,4 @@ VOLUME /h2/data
 
 ADD https://repo.maven.apache.org/maven2/com/h2database/h2/1.4.200/h2-1.4.200.jar /h2
 
-CMD ["sh", "-c", "java -cp /h2/*.jar org.h2.tools.Server -tcp -tcpAllowOthers -tcpPort 1521 -ifNotExists -baseDir /h2/data"]
\ No newline at end of file
+CMD ["sh", "-c", "java -cp /h2/*.jar org.h2.tools.Server -tcp -tcpAllowOthers -tcpPort 1521 -ifNotExists -baseDir /h2/data"]
diff --git a/test/e2e-v2/script/env b/test/e2e-v2/script/env
index fc41eec..aa2cdbd 100644
--- a/test/e2e-v2/script/env
+++ b/test/e2e-v2/script/env
@@ -13,7 +13,7 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-SW_AGENT_JAVA_COMMIT=fbdfc42b4d825ba33205d646ddaaaad20c005cb8
+SW_AGENT_JAVA_COMMIT=b7bb3f818b9c534b89f10ebcab51bde8cc332a6d
 SW_AGENT_SATELLITE_COMMIT=1987e1d566ac90f6b58a45fd9bfa27bf8faad635
 SW_AGENT_NGINX_LUA_COMMIT=c3cee4841798a147d83b96a10914d4ac0e11d0aa
 SW_AGENT_NODEJS_COMMIT=e755659c7f308d3b5589619778c8360308cb14f8
